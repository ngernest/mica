<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>RedBlackMap (mica.Lib.RedBlackMap)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">mica</a> &#x00BB; <a href="../index.html">Lib</a> &#x00BB; RedBlackMap</nav><header class="odoc-preamble"><h1>Module <code><span>Lib.RedBlackMap</span></code></h1><p>Adapted from implementations by:</p><ul><li>Colin Shaw (2017) https://github.com/CompScienceClub/ocaml-red-black-trees</li><li>Benedikt Meurer (2017) https://github.com/bmeurer/ocaml-rbtrees/blob/master/src/rbset.ml</li><li>CS 3110 textbook, chapter 8.3 https://cs3110.github.io/textbook/chapters/ds/rb.html#id1</li></ul><p>The implementation of red-black tree deletion follows the approach taken by Germane &amp; Might's (2014) functional pearl <i>Deletion: The curse of the red-black tree</i>.</p></header><nav class="odoc-toc"><ul><li><a href="#module-for-maps-implemented-using-red-black-trees">Module for maps implemented using red-black trees</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-color" class="anchored"><a href="#type-color" class="anchor"></a><code><span><span class="keyword">type</span> color</span><span> = </span></code><table><tr id="type-color.Red" class="anchored"><td class="def variant constructor"><a href="#type-color.Red" class="anchor"></a><code><span>| </span><span><span class="constructor">Red</span></span></code></td></tr><tr id="type-color.Black" class="anchored"><td class="def variant constructor"><a href="#type-color.Black" class="anchor"></a><code><span>| </span><span><span class="constructor">Black</span></span></code></td></tr><tr id="type-color.BB" class="anchored"><td class="def variant constructor"><a href="#type-color.BB" class="anchor"></a><code><span>| </span><span><span class="constructor">BB</span></span></code></td></tr></table></div><div class="spec-doc"><p>The color of each red-black tree node.</p><ul><li>Note that <code>BB</code> represents the <i>double-black</i> transitory color, introduced in Germane &amp; Might's (2014) implementation of red-black tree deletion</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-color_of_sexp" class="anchored"><a href="#val-color_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> color_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-color">color</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_color" class="anchored"><a href="#val-sexp_of_color" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_color : <span><a href="#type-color">color</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-data" class="anchored"><a href="#type-data" class="anchor"></a><code><span><span class="keyword">type</span> data</span><span> = </span><span>{</span></code><table><tr id="type-data.key" class="anchored"><td class="def record field"><a href="#type-data.key" class="anchor"></a><code><span>key : <span class="xref-unresolved">Base</span>.Int.t;</span></code></td></tr><tr id="type-data.value" class="anchored"><td class="def record field"><a href="#type-data.value" class="anchor"></a><code><span>value : <span class="xref-unresolved">Base</span>.String.t;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>The type of (key, value) bindings stored at each red-black tree node</p></div></div><div class="odoc-spec"><div class="spec value" id="val-data_of_sexp" class="anchored"><a href="#val-data_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> data_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-data">data</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_data" class="anchored"><a href="#val-sexp_of_data" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_data : <span><a href="#type-data">data</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-rbtree" class="anchored"><a href="#type-rbtree" class="anchor"></a><code><span><span class="keyword">type</span> rbtree</span><span> = </span></code><table><tr id="type-rbtree.Empty" class="anchored"><td class="def variant constructor"><a href="#type-rbtree.Empty" class="anchor"></a><code><span>| </span><span><span class="constructor">Empty</span> <span class="keyword">of</span> <a href="#type-color">color</a></span></code></td></tr><tr id="type-rbtree.Node" class="anchored"><td class="def variant constructor"><a href="#type-rbtree.Node" class="anchor"></a><code><span>| </span><span><span class="constructor">Node</span> <span class="keyword">of</span> <a href="#type-color">color</a> * <a href="#type-rbtree">rbtree</a> * <a href="#type-data">data</a> * <a href="#type-rbtree">rbtree</a></span></code></td></tr></table></div><div class="spec-doc"><p>The type of red-black trees</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rbtree_of_sexp" class="anchored"><a href="#val-rbtree_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> rbtree_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-rbtree">rbtree</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_rbtree" class="anchored"><a href="#val-sexp_of_rbtree" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_rbtree : <span><a href="#type-rbtree">rbtree</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-min" class="anchored"><a href="#val-min" class="anchor"></a><code><span><span class="keyword">val</span> min : <span><a href="#type-rbtree">rbtree</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-data">data</a></span></code></div><div class="spec-doc"><p>Auxiliary functions for deletion from red-black trees</p></div></div><div class="odoc-spec"><div class="spec value" id="val-node_val" class="anchored"><a href="#val-node_val" class="anchor"></a><code><span><span class="keyword">val</span> node_val : <span><a href="#type-rbtree">rbtree</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-data">data</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-left" class="anchored"><a href="#val-left" class="anchor"></a><code><span><span class="keyword">val</span> left : <span><a href="#type-rbtree">rbtree</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-rbtree">rbtree</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-right" class="anchored"><a href="#val-right" class="anchor"></a><code><span><span class="keyword">val</span> right : <span><a href="#type-rbtree">rbtree</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-rbtree">rbtree</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_b" class="anchored"><a href="#val-add_b" class="anchor"></a><code><span><span class="keyword">val</span> add_b : <span><a href="#type-rbtree">rbtree</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-rbtree">rbtree</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-rem_b" class="anchored"><a href="#val-rem_b" class="anchor"></a><code><span><span class="keyword">val</span> rem_b : <span><a href="#type-rbtree">rbtree</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-rbtree">rbtree</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_black" class="anchored"><a href="#val-is_black" class="anchor"></a><code><span><span class="keyword">val</span> is_black : <span><a href="#type-rbtree">rbtree</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_r" class="anchored"><a href="#val-is_r" class="anchor"></a><code><span><span class="keyword">val</span> is_r : <span><a href="#type-rbtree">rbtree</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_bb" class="anchored"><a href="#val-is_bb" class="anchor"></a><code><span><span class="keyword">val</span> is_bb : <span><a href="#type-rbtree">rbtree</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bal_del_l" class="anchored"><a href="#val-bal_del_l" class="anchor"></a><code><span><span class="keyword">val</span> bal_del_l : <span><a href="#type-rbtree">rbtree</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-rbtree">rbtree</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bal_del_r" class="anchored"><a href="#val-bal_del_r" class="anchor"></a><code><span><span class="keyword">val</span> bal_del_r : <span><a href="#type-rbtree">rbtree</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-rbtree">rbtree</a></span></code></div></div><h2 id="module-for-maps-implemented-using-red-black-trees"><a href="#module-for-maps-implemented-using-red-black-trees" class="anchor"></a>Module for maps implemented using red-black trees</h2><div class="odoc-spec"><div class="spec module" id="module-RedBlackMap" class="anchored"><a href="#module-RedBlackMap" class="anchor"></a><code><span><span class="keyword">module</span> <a href="RedBlackMap/index.html">RedBlackMap</a></span><span> : <a href="../MapInterface/module-type-MapInterface/index.html">MapInterface.MapInterface</a></span></code></div><div class="spec-doc"><p>Implementation of maps with (int, string) key-value pairs, implemented using red-black trees</p></div></div></div></body></html>