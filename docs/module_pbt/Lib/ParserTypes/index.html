<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>ParserTypes (module_pbt.Lib.ParserTypes)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">module_pbt</a> &#x00BB; <a href="../index.html">Lib</a> &#x00BB; ParserTypes</nav><header class="odoc-preamble"><h1>Module <code><span>Lib.ParserTypes</span></code></h1></header><div class="odoc-content"><p>Datatype definitions for OCaml module signatures. These types are used by the module <a href="../ModuleParser/index.html"><code>Lib.ModuleParser</code></a> to parse OCaml module signatures. This file also calls some helper functions defined in the module <a href="../Utils/index.html"><code>Lib.Utils</code></a>.</p><div class="odoc-spec"><div class="spec type" id="type-moduleName" class="anchored"><a href="#type-moduleName" class="anchor"></a><code><span><span class="keyword">type</span> moduleName</span><span> = <span class="xref-unresolved">Base</span>.string</span></code></div><div class="spec-doc"><p>Name of a module</p></div></div><div class="odoc-spec"><div class="spec value" id="val-moduleName_of_sexp" class="anchored"><a href="#val-moduleName_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> moduleName_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-moduleName">moduleName</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_moduleName" class="anchored"><a href="#val-sexp_of_moduleName" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_moduleName : <span><a href="#type-moduleName">moduleName</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-moduleType" class="anchored"><a href="#type-moduleType" class="anchor"></a><code><span><span class="keyword">type</span> moduleType</span><span> = </span></code><table><tr id="type-moduleType.Intf" class="anchored"><td class="def variant constructor"><a href="#type-moduleType.Intf" class="anchor"></a><code><span>| </span><span><span class="constructor">Intf</span></span></code></td></tr><tr id="type-moduleType.Impl" class="anchored"><td class="def variant constructor"><a href="#type-moduleType.Impl" class="anchor"></a><code><span>| </span><span><span class="constructor">Impl</span></span></code></td></tr></table></div><div class="spec-doc"><p>A module can either be an interface <code>Intf</code> or an implementation <code>Impl</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-moduleType_of_sexp" class="anchored"><a href="#val-moduleType_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> moduleType_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-moduleType">moduleType</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_moduleType" class="anchored"><a href="#val-sexp_of_moduleType" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_moduleType : <span><a href="#type-moduleType">moduleType</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-ident" class="anchored"><a href="#type-ident" class="anchor"></a><code><span><span class="keyword">type</span> ident</span><span> = <span class="xref-unresolved">Base</span>.string</span></code></div><div class="spec-doc"><p>Identifiers in OCaml</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ident_of_sexp" class="anchored"><a href="#val-ident_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> ident_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-ident">ident</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_ident" class="anchored"><a href="#val-sexp_of_ident" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_ident : <span><a href="#type-ident">ident</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-ty" class="anchored"><a href="#type-ty" class="anchor"></a><code><span><span class="keyword">type</span> ty</span><span> = </span></code><table><tr id="type-ty.Int" class="anchored"><td class="def variant constructor"><a href="#type-ty.Int" class="anchor"></a><code><span>| </span><span><span class="constructor">Int</span></span></code></td></tr><tr id="type-ty.Char" class="anchored"><td class="def variant constructor"><a href="#type-ty.Char" class="anchor"></a><code><span>| </span><span><span class="constructor">Char</span></span></code></td></tr><tr id="type-ty.Bool" class="anchored"><td class="def variant constructor"><a href="#type-ty.Bool" class="anchor"></a><code><span>| </span><span><span class="constructor">Bool</span></span></code></td></tr><tr id="type-ty.Unit" class="anchored"><td class="def variant constructor"><a href="#type-ty.Unit" class="anchor"></a><code><span>| </span><span><span class="constructor">Unit</span></span></code></td></tr><tr id="type-ty.Alpha" class="anchored"><td class="def variant constructor"><a href="#type-ty.Alpha" class="anchor"></a><code><span>| </span><span><span class="constructor">Alpha</span></span></code></td></tr><tr id="type-ty.AlphaT" class="anchored"><td class="def variant constructor"><a href="#type-ty.AlphaT" class="anchor"></a><code><span>| </span><span><span class="constructor">AlphaT</span></span></code></td></tr><tr id="type-ty.T" class="anchored"><td class="def variant constructor"><a href="#type-ty.T" class="anchor"></a><code><span>| </span><span><span class="constructor">T</span></span></code></td></tr><tr id="type-ty.Option" class="anchored"><td class="def variant constructor"><a href="#type-ty.Option" class="anchor"></a><code><span>| </span><span><span class="constructor">Option</span> <span class="keyword">of</span> <a href="#type-ty">ty</a></span></code></td></tr><tr id="type-ty.Pair" class="anchored"><td class="def variant constructor"><a href="#type-ty.Pair" class="anchor"></a><code><span>| </span><span><span class="constructor">Pair</span> <span class="keyword">of</span> <a href="#type-ty">ty</a> * <a href="#type-ty">ty</a></span></code></td></tr><tr id="type-ty.List" class="anchored"><td class="def variant constructor"><a href="#type-ty.List" class="anchor"></a><code><span>| </span><span><span class="constructor">List</span> <span class="keyword">of</span> <a href="#type-ty">ty</a></span></code></td></tr><tr id="type-ty.Func1" class="anchored"><td class="def variant constructor"><a href="#type-ty.Func1" class="anchor"></a><code><span>| </span><span><span class="constructor">Func1</span> <span class="keyword">of</span> <a href="#type-ty">ty</a> * <a href="#type-ty">ty</a></span></code></td></tr><tr id="type-ty.Func2" class="anchored"><td class="def variant constructor"><a href="#type-ty.Func2" class="anchor"></a><code><span>| </span><span><span class="constructor">Func2</span> <span class="keyword">of</span> <a href="#type-ty">ty</a> * <a href="#type-ty">ty</a> * <a href="#type-ty">ty</a></span></code></td></tr></table></div><div class="spec-doc"><p><code>ty</code> is an ADT representing concrete types, where:</p><ul><li><code>Alpha</code> represents <code>'a</code></li><li><code>AlphaT</code> represents <code>'a t</code></li><li><code>T</code> represents <code>t</code></li><li><code>Option</code> represents option types</li><li><code>Pair</code> represents a <i>pair</i>, i.e. a product type with two arguments</li><li><code>List</code> represents lists</li><li><code>Func1</code> represents functions of arity 1 (arg type, return type)</li><li><code>Func2</code> represents functions of arity 2 (arg1 type, arg2 type, return type)</li><li>All other constructors correspond to base OCaml types</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-ty_of_sexp" class="anchored"><a href="#val-ty_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> ty_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-ty">ty</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_ty" class="anchored"><a href="#val-sexp_of_ty" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_ty : <span><a href="#type-ty">ty</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_ty" class="anchored"><a href="#val-compare_ty" class="anchor"></a><code><span><span class="keyword">val</span> compare_ty : <span><a href="#type-ty">ty</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ty">ty</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Base</span>.int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-tyEqual" class="anchored"><a href="#val-tyEqual" class="anchor"></a><code><span><span class="keyword">val</span> tyEqual : <span><a href="#type-ty">ty</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ty">ty</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Base</span>.bool</span></code></div><div class="spec-doc"><p>Structural equality function for the <code>ty</code> datatype</p></div></div><div class="odoc-spec"><div class="spec value" id="val-string_of_ty" class="anchored"><a href="#val-string_of_ty" class="anchor"></a><code><span><span class="keyword">val</span> string_of_ty : 
  <span>?alpha:<span class="xref-unresolved">Base</span>.string <span class="arrow">&#45;&gt;</span></span>
  <span>?t:<span class="xref-unresolved">Base</span>.string <span class="arrow">&#45;&gt;</span></span>
  <span>?camelCase:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-ty">ty</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Base</span>.string</span></code></div><div class="spec-doc"><p>Converts a <code>ty</code> to its string representation, taking in optional arguments specifying various parameters of the string represntation.</p><ul><li>Note that <code>AlphaT</code> &amp; <code>T</code> are converted to &quot;expr&quot;</li><li>The argument <code>alpha</code> specifies a concrete base type that should be printed in the PBT code in lieu of <code> \'a </code> when testing polymorphic functions.</li><li>The argument <code>t</code> specifies a string that should be printed whenever <code>ty</code> is equal to <code>AlphaT</code> or <code>T</code> (eg. the string literal <code>&quot;expr&quot;</code> when generating the <code>expr</code> ADT definition)</li><li>The argument <code>camelCase</code> specifies whether the string representation of <code>ty</code> should be in camel-case or not. This is relevant for parameterized types whose string representation may contain a space, eg. <code>&quot;int option&quot;</code>.</li></ul></div></div><div class="odoc-spec"><div class="spec type" id="type-abstractType" class="anchored"><a href="#type-abstractType" class="anchor"></a><code><span><span class="keyword">type</span> abstractType</span><span> = </span></code><table><tr id="type-abstractType.T0" class="anchored"><td class="def variant constructor"><a href="#type-abstractType.T0" class="anchor"></a><code><span>| </span><span><span class="constructor">T0</span></span></code></td></tr><tr id="type-abstractType.T1" class="anchored"><td class="def variant constructor"><a href="#type-abstractType.T1" class="anchor"></a><code><span>| </span><span><span class="constructor">T1</span> <span class="keyword">of</span> <a href="#type-ty">ty</a></span></code></td></tr></table></div><div class="spec-doc"><p>Abstract type contained within a module</p><ul><li>The <code>T0</code> constructor means the abstract type is <i>not</i> parameterized by any type variables, i.e. the abstract type is just <code>t</code></li><li>The <code>T1</code> constructor takes a type <code>ty</code> as its argument, representing an abstract type containing a type variable, eg. <code>'a t</code></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-abstractType_of_sexp" class="anchored"><a href="#val-abstractType_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> abstractType_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-abstractType">abstractType</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_abstractType" class="anchored"><a href="#val-sexp_of_abstractType" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_abstractType : <span><a href="#type-abstractType">abstractType</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-valDecl" class="anchored"><a href="#type-valDecl" class="anchor"></a><code><span><span class="keyword">type</span> valDecl</span><span> = </span><span>{</span></code><table><tr id="type-valDecl.valName" class="anchored"><td class="def record field"><a href="#type-valDecl.valName" class="anchor"></a><code><span>valName : <span class="xref-unresolved">Base</span>.string;</span></code></td></tr><tr id="type-valDecl.valType" class="anchored"><td class="def record field"><a href="#type-valDecl.valType" class="anchor"></a><code><span>valType : <a href="#type-ty">ty</a>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Type representing a value declaration:</p><ul><li><code>valName</code> is the name of the variable/function being declared</li><li><code>valType</code> is the type of the declaration</li><li>E.g. for <code>val empty : 'a t</code>, <code>valName = &quot;empty&quot;</code> and <code>valType = AlphaT</code></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-valDecl_of_sexp" class="anchored"><a href="#val-valDecl_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> valDecl_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-valDecl">valDecl</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_valDecl" class="anchored"><a href="#val-sexp_of_valDecl" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_valDecl : <span><a href="#type-valDecl">valDecl</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-valType" class="anchored"><a href="#val-valType" class="anchor"></a><code><span><span class="keyword">val</span> valType : <span><a href="#type-valDecl">valDecl</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-ty">ty</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-valName" class="anchored"><a href="#val-valName" class="anchor"></a><code><span><span class="keyword">val</span> valName : <span><a href="#type-valDecl">valDecl</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Base</span>.string</span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Fields_of_valDecl" class="anchored"><a href="#module-Fields_of_valDecl" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Fields_of_valDecl/index.html">Fields_of_valDecl</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-argLabel" class="anchored"><a href="#type-argLabel" class="anchor"></a><code><span><span class="keyword">type</span> argLabel</span><span> = <a href="#type-valDecl">valDecl</a></span></code></div><div class="spec-doc"><p>Type representing the argument to a function</p></div></div><div class="odoc-spec"><div class="spec value" id="val-argLabel_of_sexp" class="anchored"><a href="#val-argLabel_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> argLabel_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-argLabel">argLabel</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_argLabel" class="anchored"><a href="#val-sexp_of_argLabel" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_argLabel : <span><a href="#type-argLabel">argLabel</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-moduleSig" class="anchored"><a href="#type-moduleSig" class="anchor"></a><code><span><span class="keyword">type</span> moduleSig</span><span> = </span><span>{</span></code><table><tr id="type-moduleSig.moduleName" class="anchored"><td class="def record field"><a href="#type-moduleSig.moduleName" class="anchor"></a><code><span>moduleName : <a href="#type-moduleName">moduleName</a>;</span></code></td></tr><tr id="type-moduleSig.moduleType" class="anchored"><td class="def record field"><a href="#type-moduleSig.moduleType" class="anchor"></a><code><span>moduleType : <a href="#type-moduleType">moduleType</a>;</span></code></td></tr><tr id="type-moduleSig.abstractType" class="anchored"><td class="def record field"><a href="#type-moduleSig.abstractType" class="anchor"></a><code><span>abstractType : <a href="#type-abstractType">abstractType</a>;</span></code></td></tr><tr id="type-moduleSig.valDecls" class="anchored"><td class="def record field"><a href="#type-moduleSig.valDecls" class="anchor"></a><code><span>valDecls : <span><a href="#type-valDecl">valDecl</a> <span class="xref-unresolved">Base</span>.list</span>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Record type representing an ML module</p></div></div><div class="odoc-spec"><div class="spec value" id="val-moduleSig_of_sexp" class="anchored"><a href="#val-moduleSig_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> moduleSig_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-moduleSig">moduleSig</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_moduleSig" class="anchored"><a href="#val-sexp_of_moduleSig" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_moduleSig : <span><a href="#type-moduleSig">moduleSig</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-valDecls" class="anchored"><a href="#val-valDecls" class="anchor"></a><code><span><span class="keyword">val</span> valDecls : <span><a href="#type-moduleSig">moduleSig</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-valDecl">valDecl</a> <span class="xref-unresolved">Base</span>.list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-abstractType" class="anchored"><a href="#val-abstractType" class="anchor"></a><code><span><span class="keyword">val</span> abstractType : <span><a href="#type-moduleSig">moduleSig</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-abstractType">abstractType</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-moduleType" class="anchored"><a href="#val-moduleType" class="anchor"></a><code><span><span class="keyword">val</span> moduleType : <span><a href="#type-moduleSig">moduleSig</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-moduleType">moduleType</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-moduleName" class="anchored"><a href="#val-moduleName" class="anchor"></a><code><span><span class="keyword">val</span> moduleName : <span><a href="#type-moduleSig">moduleSig</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-moduleName">moduleName</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Fields_of_moduleSig" class="anchored"><a href="#module-Fields_of_moduleSig" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Fields_of_moduleSig/index.html">Fields_of_moduleSig</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>